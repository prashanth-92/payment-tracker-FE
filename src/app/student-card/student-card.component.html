<div class="row">
    <div class="input-field col s12">
      <input placeholder="Search By Name" id="search" type="text" class="validate" [(ngModel)]="searchText">
      <label for="search">Search By Name</label>
    </div>
</div>
<div class="row">
<div class="col s12 m6" *ngFor = "let student of students  | filter : searchText">
  <div class="card blue darken-1">
    <div class="card-content white-text">
      <span class="card-title">{{student.name}}<i class="material-icons right">more_vert</i></span>
      <p><i class="fas fa-university fa-2x"></i><span style="font-size:20px"> {{student.school}}</span></p>
      <p><i class="fas fa-phone fa-2x"></i><span style="font-size:20px"> {{student.contactNumber}}</span></p>
      <p><i class="fas fa-rupee-sign fa-2x"></i><span style="font-size:20px"> {{student.amount}}</span></p>
    </div>
    <div class="card-action">
      <a class="waves-effect waves yellow btn-small activator" (click)="addCardRevalMode()"><span class="activator" style="color:black">Add Payment</span></a>
      <a class="waves-effect waves yellow btn-small activator" (click)="viewCardRevalMode(student._id)"><span class="activator" style="color:black">View Payments</span></a>
    </div>
    <div class="card-reveal">
        <span class="card-title grey-text text-darken-4">{{student.name}}<i class="material-icons right">close</i></span>
        <div *ngIf = "addPaymentCardRevealMode">
          <div class="row">
          <div class="input-field col s12 m6">
              <i class="fas fa-rupee-sign fa-lg prefix"></i>                          
              <input id="icon_prefix" [(ngModel)]="student.installment" type="number" maxlength="5" class="validate">
              <label for="icon_prefix">Amount</label>
          </div>
          <div class="col s12 m6">
              <div class="switch">
                  <label>
                    Cash
                    <input type="checkbox" [(ngModel)]="student.isCheque">
                    <span class="lever"></span>
                    Cheque
                  </label>
                </div>
          </div>
          </div>
          <div class="col">
            <a class="waves-effect waves btn-small" (click) = "savePayment(student)"><span style="color:black">Save</span></a>
          </div>
          </div>
          <div *ngIf = "!addPaymentCardRevealMode">
            <table>
              <tr>
                <th>#</th>
                <th>Amount</th>
                <th>Payment Date</th>
              </tr>
              <tr *ngFor="let payment of payments;index as i">
                  <td>{{i+1}}</td>
                  <td>{{payment.amount}}</td>
                  <td>{{payment.dateModified | date:"dd/MM/yyyy" }}</td>
              </tr>
            </table>
          </div>
      </div>
  </div>
</div>
</div>